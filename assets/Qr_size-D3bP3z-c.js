import{r as a,w as h,f as C,a as R,b as l,e as r,v as c,t as Q,g as k,o as U}from"./index-lwaWM59l.js";import{Q as L}from"./browser-BtZzEF0O.js";import{u as D}from"./index-D_y43vSW.js";const M={class:"w-fit mx-auto p-6 bg-white shadow-md rounded-2xl flex flex-col gap-4 items-center mt-4"},V={class:"flex items-center w-full gap-3 mt-4"},A={class:"text-sm text-gray-600"},N={class:"w-full mt-2"},z={class:"grid grid-cols-2 mt-4 gap-4"},B={class:"my-4 w-full mt-4"},j={__name:"Qr_size",setup(I){const s=a("https://example.com"),u=a("#000000"),p=a(null),g=a("Digita Nombre QR"),v=a(null),n=a(300),i=a(300),m=a("H"),f=async()=>{if(!p.value)return;if(!s.value.trim()){alert("Por favor ingresa texto o una URL");return}const o=p.value;if(o.width=n.value,o.height=i.value,await L.toCanvas(o,s.value,{color:{dark:u.value,light:"#ffffff"},errorCorrectionLevel:m.value,width:n.value,margin:1}),v.value){const e=o.getContext("2d"),t=Math.min(n.value,i.value)*.2;e.drawImage(v.value,(o.width-t)/2,(o.height-t)/2,t,t)}},x=D(f,300);h([s,u,n,i,m],x,{immediate:!0}),C(f);const w=o=>{const e=o.target.files[0];if(!e)return;const t=new FileReader;t.onload=d=>{const b=new Image;b.onload=()=>{v.value=b,f()},b.src=d.target.result},t.readAsDataURL(e)},y=()=>{const o=p.value;if(!o)return;const e=g.value.trim().toLowerCase().replace(/[^a-zA-Z0-9áéíóúñÁÉÍÓÚÑ]/g,"-"),t=o.toDataURL("image/png"),d=document.createElement("a");d.href=t,d.download=`${e||"qr"}.png`,d.click()};return(o,e)=>(U(),R("div",M,[e[10]||(e[10]=l("h2",{class:"text-xl font-semibold text-gray-800 text-center sm:text-left"},"Generador de QR Dinámico Con Imagen",-1)),r(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),type:"text",placeholder:"Escribe texto o URL",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[c,s.value]]),r(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>g.value=t),type:"text",placeholder:"Nombre del archivo",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[c,g.value]]),l("div",V,[r(l("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),class:"w-10 h-10 rounded border-2 border-gray-300 cursor-pointer"},null,512),[[c,u.value]]),l("span",A,"Color seleccionado: "+Q(u.value),1)]),l("div",N,[e[7]||(e[7]=l("label",{class:"block text-sm font-medium mb-1"},"Nivel de corrección de errores:",-1)),r(l("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),class:"w-full px-2 py-2 border rounded-lg"},e[6]||(e[6]=[l("option",{value:"L"},"L - Bajo (~7%)",-1),l("option",{value:"M"},"M - Medio (~15%)",-1),l("option",{value:"Q"},"Q - Cuartil (~25%)",-1),l("option",{value:"H"},"H - Alto (~30%)",-1)]),512),[[k,m.value]])]),l("div",z,[l("div",null,[e[8]||(e[8]=l("label",{class:"block text-sm font-medium"},"Ancho (px):",-1)),r(l("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>n.value=t),class:"w-full px-2 py-1 border rounded",min:"100"},null,512),[[c,n.value]])]),l("div",null,[e[9]||(e[9]=l("label",{class:"block text-sm font-medium"},"Alto (px):",-1)),r(l("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>i.value=t),class:"w-full px-2 py-1 border rounded",min:"100"},null,512),[[c,i.value]])])]),l("div",B,[l("input",{type:"file",accept:"image/*",onChange:w,class:"w-full file:px-4 file:py-2 file:rounded-lg file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),l("canvas",{ref_key:"canvasRef",ref:p,class:"rounded-lg border"},null,512),l("div",{class:"flex flex-wrap gap-4 justify-center w-full"},[l("button",{onClick:f,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-all duration-200"}," Actualizar QR "),l("button",{onClick:y,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-all duration-200"}," Descargar QR ")])]))}};export{j as default};
