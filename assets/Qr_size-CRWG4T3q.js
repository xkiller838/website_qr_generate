import{r as a,w as R,f as h,a as C,b as l,e as s,v as m,t as k,g as Q,o as U}from"./index-DyhFpOAQ.js";import{Q as L}from"./browser-BtZzEF0O.js";import{u as D}from"./index-DMCqy_Nm.js";const M={class:"w-fit mx-auto p-6 bg-white shadow-md rounded-2xl flex flex-col gap-4 items-center mt-4"},V={class:"w-full"},A={class:"w-full"},N={class:"flex items-center w-full gap-3 mt-4"},z={class:"text-sm text-gray-600"},B={class:"w-full mt-2"},I={class:"grid grid-cols-2 mt-4 gap-4"},E={class:"my-4 w-full mt-4"},F={__name:"Qr_size",setup(H){const r=a("https://example.com"),u=a("#000000"),c=a(null),v=a(""),g=a(null),n=a(300),i=a(300),p=a("H"),f=async()=>{if(!c.value)return;if(!r.value.trim()){alert("Por favor ingresa texto o una URL");return}const o=c.value;if(o.width=n.value,o.height=i.value,await L.toCanvas(o,r.value,{color:{dark:u.value,light:"#ffffff"},errorCorrectionLevel:p.value,width:n.value,margin:1}),g.value){const e=o.getContext("2d"),t=Math.min(n.value,i.value)*.2;e.drawImage(g.value,(o.width-t)/2,(o.height-t)/2,t,t)}},x=D(f,300);R([r,u,n,i,p],x,{immediate:!0}),h(f);const w=o=>{const e=o.target.files[0];if(!e)return;const t=new FileReader;t.onload=d=>{const b=new Image;b.onload=()=>{g.value=b,f()},b.src=d.target.result},t.readAsDataURL(e)},y=()=>{const o=c.value;if(!o)return;const e=v.value.trim().toLowerCase().replace(/[^a-zA-Z0-9áéíóúñÁÉÍÓÚÑ]/g,"-"),t=o.toDataURL("image/png"),d=document.createElement("a");d.href=t,d.download=`${e||"qr"}.png`,d.click()};return(o,e)=>(U(),C("div",M,[e[12]||(e[12]=l("h2",{class:"text-xl font-semibold text-gray-800 text-center sm:text-left"},"Generador de QR Dinámico Con Imagen ",-1)),l("div",V,[e[6]||(e[6]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"URL para QR",-1)),s(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),type:"text",placeholder:"Escribe texto o URL",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[m,r.value]])]),l("div",A,[e[7]||(e[7]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nombre del archivo",-1)),s(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),type:"text",placeholder:"Nombre del archivo",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"},null,512),[[m,v.value]])]),l("div",N,[s(l("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),class:"w-10 h-10 rounded border-2 border-gray-300 cursor-pointer"},null,512),[[m,u.value]]),l("span",z,"Color seleccionado: "+k(u.value),1)]),l("div",B,[e[9]||(e[9]=l("label",{class:"block text-sm font-medium mb-1"},"Nivel de corrección de errores:",-1)),s(l("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),class:"w-full px-2 py-2 border rounded-lg"},e[8]||(e[8]=[l("option",{value:"L"},"L - Bajo (~7%)",-1),l("option",{value:"M"},"M - Medio (~15%)",-1),l("option",{value:"Q"},"Q - Cuartil (~25%)",-1),l("option",{value:"H"},"H - Alto (~30%)",-1)]),512),[[Q,p.value]])]),l("div",I,[l("div",null,[e[10]||(e[10]=l("label",{class:"block text-sm font-medium"},"Ancho (px):",-1)),s(l("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>n.value=t),class:"w-full px-2 py-1 border rounded",min:"100"},null,512),[[m,n.value]])]),l("div",null,[e[11]||(e[11]=l("label",{class:"block text-sm font-medium"},"Alto (px):",-1)),s(l("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>i.value=t),class:"w-full px-2 py-1 border rounded",min:"100"},null,512),[[m,i.value]])])]),l("div",E,[l("input",{type:"file",accept:"image/*",onChange:w,class:"w-full file:px-4 file:py-2 file:rounded-lg file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),l("canvas",{ref_key:"canvasRef",ref:c,class:"rounded-lg border"},null,512),l("div",{class:"flex flex-wrap gap-4 justify-center w-full"},[l("button",{onClick:f,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-all duration-200"}," Actualizar QR "),l("button",{onClick:y,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-all duration-200"}," Descargar QR ")])]))}};export{F as default};
