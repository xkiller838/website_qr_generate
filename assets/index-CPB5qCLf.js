import{h as d,i as h,r as y,j as T,k as m}from"./index-C9XWKEMP.js";const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const s=()=>{};function W(...n){if(n.length!==1)return d(...n);const t=n[0];return typeof t=="function"?h(T(()=>({get:t,set:s}))):y(t)}function b(n,t){function o(...e){return new Promise((i,r)=>{Promise.resolve(n(()=>t.apply(this,e),{fn:t,thisArg:this,args:e})).then(i).catch(r)})}return o}function w(n,t={}){let o,e,i=s;const r=u=>{clearTimeout(u),i(),i=s};let a;return u=>{const f=m(n),l=m(t.maxWait);return o&&r(o),f<=0||l!==void 0&&l<=0?(e&&(r(e),e=null),Promise.resolve(u())):new Promise((c,p)=>{i=t.rejectOnCancel?p:c,a=u,l&&!e&&(e=setTimeout(()=>{o&&r(o),e=null,c(a())},l)),o=setTimeout(()=>{e&&r(e),e=null,c(u())},f)})}}function j(n,t=200,o={}){return b(w(t,o),n)}export{R as i,W as t,j as u};
